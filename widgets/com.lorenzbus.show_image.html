<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  </head>
    <body>
        <div class="container">
            
            <span style="display:none;" id="spanSource">
data:image/png;base64,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            
            </span><br/>
            <img id="imgDisplay" height="160" width="600"></img>
        </div>
        <script src="//code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
        <script src="//stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
        <script src="//js.jotform.com/JotFormCustomWidget.min.js"></script>
        <script>
            $(function () {
                console.log('com.lorenzbus.show_image.page_load')

                const imgDisplay = document.getElementById('imgDisplay');
                const spanSource = document.getElementById('spanSource');

                // initial display
                imgDisplay.src = spanSource.innerText

                spanSource.addEventListener("blur", function(){
                    console.log('spanSource.blur');
                    // imgDisplay.src = spanSource.value
                    // imgDisplay.hidden = false
                },true); 

                JFCustomWidget.subscribe("ready", function(){
                    console.log('com.lorenzbus.show_image.JFCustomWidget.ready');

                    /*
                    The submit event is triggered when the form's submit button is pressed.
                    */
                    JFCustomWidget.subscribe("submit", function(){
                        console.log('com.lorenzbus.show_image.JFCustomWidget.submit');

                        // structure to be returned
                        var msg = {
                            valid: true,
                            value: imgDisplay.src
                        }
                        console.log('msg',msg)

                        // return what was received
                        JFCustomWidget.sendSubmit(msg);
                    });

                });

                /*
                The populate event is triggered when the widget receives data from the form.
                */
                JFCustomWidget.subscribe('populate', function(data){
                    console.log('com.lorenzbus.show_image.JFCustomWidget.populate');
                    console.log('data',data)

                    if (data) { imgDisplay.src = data }

                    // structure to be returned
                    // var data = {
                    //     valid: true,
                    //     value: 'dummy'
                    // }
                    // console.log('data',data)

                    // returned what was received
                    // JFCustomWidget.sendData(data)
                });

            })
        </script>
    </body>
</html>